@(SubjectId: String, sub_sess: Map[String, List[String]], studyNo:Int, userName: String, signals: List[Int], videos:  Map[String, List[ String]], study_type: Int, sub_sess_menu: Map[String, List[String]], studyName: String)

<!DOCTYPE html>
<html itemscope="" itemtype="http://schema.org/WebPage" lang="en">
<head>

    <style type="text/css">


        #fooObject {
        /* simple box */
        position:absolute;
        left:0px;
        top:8em;
        width:0em;
        line-height:10em;
        background:#99ccff;
        border:1px 0px 0px 0px solid #003366;
        white-space:nowrap;
        padding:0.5em;
        border-radius: 25px;
        }

    </style>

    <meta charset="UTF-8">
    <!-- <script type="text/javascript" src="/assets/js/jquery-1.9.0.min.js"></script> -->
    <script type="text/javascript" src="/assets/js/tab.js"></script>
    <link rel="stylesheet" type="text/css" href="/assets/stylesheets/tab.css">
    <title>StressBook</title>
    <meta content="width=1170" name="viewport">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"><meta content="IRQcweD5CIs6Qc-uVi9xT3BD-1jPvDxyk3-9LUah9T8" name="google-site-verification">
    <link href="/assets/images/cpllog.png" rel="icon" type="image/png">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script type="text/javascript" src="/assets/js/ow-all.js"></script>
    <script type="text/javascript" src="/assets/js/webapp.js"></script>

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type='text/javascript' src='@routes.Assets.at("js/changevideo.js")'></script>
    <script type='text/javascript' src='@routes.Assets.at("js/signalwithtab.js")'></script>

    <link rel="stylesheet" href="/assets/stylesheets/portrat.css" type="text/css" />


    <link rel="stylesheet" type="text/css" href="/assets/stylesheets/oneweb.css">
    <link rel="stylesheet" type="text/css" href="/assets/stylesheets/jquery-ui-1.9.2.css">
    <link rel="stylesheet" type="text/css" href="/assets/stylesheets/modeler.css">

</head>
<body style="border:1px solid;width:100%; height=100%;">
<div id="wrapper" >
<table class="border_layout" style="border:1px solid;width:100%; height=100%">
<tr>
    <td class="border_layout_north" colspan="3">
        <div class="border_layout_north">
            <div id="header_wrapper">


                <div id="header">
                    <a class="logo" href="http://www.cpl.uh.edu/"><img alt="CPL Logo" width="70" height="40"  src="/assets/images/cpllogo.png"></a>
                    <ul class="user_menu"> <li class="user dropdown_holder"><span class="dropdown"><span>@userName</span></span> <div class="dropdown_menu_holder"><div class="dropdown_menu"><ul class="m"><li><a href="/my-account?action=flow.reset&amp;flow.flow=my_account" id="btn31"><span>My account</span></a> </li> </ul></div></div></li><li class="notifications"><div id="flow_notifications_layer_div"><div class="menu_item dropdown_holder"><a class="dropdown notifications" href="?action=flow.transit&amp;flow.flow=notifications_layer&amp;flow.transition=expanded&amp;flow.reloadFlow=notifications_layer" id="btn32"><span></span></a></div></div></li><li class="logout"><a href="/logout" id="btn33"><span>Log out</span></a></li></ul>
                    <ul class="links">
                        <li class="dropdown_holder expandable expand-priority-1"><span class="dropdown"><span>Modules</span></span><div class="dropdown_menu_holder"><div class="dropdown_menu"><ul class="m"><li><a href="/diagram">Diagram</a></li><li><a href="/allStudies"  id="btn34"><span>My models</span></a></li><li><a href="/sharing?action=flow.reset&amp;flow.flow=model_sharing" id="btn35"><span>Sharing</span></a></li><li><a href="/recommend-us?action=flow.reset&amp;flow.flow=recommend_us" id="btn36"><span>Recommend us</span></a></li></ul></div></div></li><li class="dropdown_holder" id="help-menu"><span class="dropdown"><span>Help</span></span>
                        <div class="dropdown_menu_holder">
                            <div class="dropdown_menu">
                                <ul class="m">
                                    <li>
                                        <a href="javascript: IntroGuide.start();" id="take-application-tour-menu-item" style="display: none;">Take application tour</a>
                                    </li>
                                    <li id="shortcut-helper-menu-item" style="display: none;">
                                        <a href="javascript: app.showShortcutsHelper();">Keyboard shortcuts</a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="http://www.cpl.uh.edu/">CPL website</a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="http://vertabelo.com/documentation">Documentation</a>
                                    </li>
                                    <li>
                                        <a target="_blank" href="http://vertabelo.com/faq">FAQ</a>
                                    </li>
                                    <li>
                                        <a href="/support/ask-a-question" id="btn37" target="_blank"><span>Ask a question</span></a>
                                    <li>
                                        <a href="/support/request-a-feature" id="btn38" target="_blank"><span>Request a feature</span></a>
                                    </li>
                                    <li>
                                        <a href="/support/report-a-problem" id="btn39" target="_blank"><span>Report a problem</span></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </li>
                    </ul>

                    <div class="clearFix">
                    </div>
                    <div class="clearFix">
                    </div>
                </div>


            </div>

           <!-- <table id="toolbar_wrapper"><tr><td class="item wide">



                <div class="block_dialog_container"><div class="popup initialHide" id="popup_flow_share_model_div">
                    <div class="popup_arrow_up"></div>
                    <a class="close-popup-button" id="btn2521"><span>X</span></a>
                    <script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2521","epoint.ow.Utils.buttonDefaultsHandler",null);},90,null);</script><script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2521","epoint.ow.popup.PopupManager.closePopupClickHandler","popup_flow_share_model_div",[]);},null,null);</script>
                    <div class="clearFix"></div>
                    <div class="popup_inner">
                        <div id="flow_share_model_div"><img src="/assets/images/empty_flow_content.gif"></div>
                        <script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.flow.Utils.setCurrentState("share_model","share");},null,null);</script>
                    </div>
                </div>
                </div><span id="share_model_button_wrapper"><a class="button" href="?action=flow.reset&amp;flow.flow=share_model&amp;flow.reloadFlow=share_model" id="btn2522"><span>Share model</span></a><script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2522","epoint.ow.Utils.buttonDefaultsHandler",null);},90,null);</script><script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2522","epoint.ow.popup.PopupManager.openPopupAfterAjaxFlowReloadClickHandler","popup_flow_share_model_div","flow_share_model_div",[]);epoint.ow.Utils.bindEvent("click","btn2522","epoint.ow.flow.Utils.ajaxFlowHandler",null);},null,null);</script></span><div class="block_dialog_container"><div class="popup initialHide compact" id="sql_generator_form_container">
                <div class="popup_arrow_up"></div><a class="close-popup-button" id="btn2524"><span>X</span></a><script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2524","epoint.ow.Utils.buttonDefaultsHandler",null);},90,null);</script><script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2524","epoint.ow.popup.PopupManager.closePopupClickHandler","sql_generator_form_container",[]);},null,null);</script>
                <div class="clearFix"></div>
                <div class="popup_inner">
                <div class="header"><h1>Generate SQL Script</h1></div>
                    <form id="sql_generator_form" onSubmit="return false;"><div class="box_form_section"><div class="box_form_content">
                <table cellspacing="0" class="form_table">
                    <tr class="row_1"><td class="cell_1"><span class="field_label">I want to generate:<span class="mandatory">*</span></span>
                    </td>
                        <td class="cell_2"><div class="h_options"><span class="field_option"><input checked="checked" class="radio_field" id="sql_generator_type_create" name="type" type="radio" value="create"><label for="sql_generator_type_create">Create</label></span><span class="field_option"><input class="radio_field" id="sql_generator_type_drop" name="type" type="radio" value="drop"><label for="sql_generator_type_drop">Drop</label></span></div>
                        </td>
                    </tr>
                    <tr class="row_2"><td class="cell_1"><span class="field_label">For following elements:<span class="mandatory">*</span></span></td>
                        <td class="cell_2"><div class="v_options"><span class="field_option"><input checked="checked" class="radio_field" id="sql_generator_scope_tables" name="scope" type="checkbox" value="tables"><label for="sql_generator_scope_tables">Tables</label></span><span class="field_option"><input checked="checked" class="radio_field" id="sql_generator_scope_references" name="scope" type="checkbox" value="references"><label for="sql_generator_scope_references">References</label></span><span class="field_option"><input checked="checked" class="radio_field" id="sql_generator_scope_sequences" name="scope" type="checkbox" value="sequences"><label for="sql_generator_scope_sequences">Sequences</label></span><span class="field_option"><input checked="checked" class="radio_field" id="sql_generator_scope_views" name="scope" type="checkbox" value="views"><label for="sql_generator_scope_views">Views</label></span><span class="field_option"><input checked="checked" class="radio_field" id="sql_generator_scope_procedures" name="scope" type="checkbox" value="procedures"><label for="sql_generator_scope_procedures">Procedures</label></span></div>
                        </td>
                    </tr>
                </table><p class="sql_generator_errors" id="sql_generator_empty_script">You will get empty sql script. Choose at least one element.</p></div></div></form><div id="sql_generator_problems" style="display: none"><div class="section section__small section__separated_below"><div class="header"><h2>Problems </h2></div><div class="content"><p class="sql_generator_errors">The model you want to generate a SQL script from contains errors&#x2F;warnings.
                The generated script may not be accepted by your database.
                We highly recommend that you correct all errors and warnings before generating the SQL script.</p><div class="accordion" id="sql_generator_problems_list" style="display: none"></div></div><div class="clearFix"></div></div></div><div id="sql_generator_progress_checking" style="display: none"><p><img alt="" class="loading-small" src="/assets/images/loading-small.gif">Checking model. Please wait...</p></div><div id="sql_generator_progress_generating" style="display: none"><p><img alt="" class="loading-small" src="/assets/images/loading-small.gif">Generating SQL script. Please wait...</p></div><div id="sql_generator_download" style="display: none"><div class="box_table">
                <table class="table_table"><thead class="table_header">
                <tr><th colspan="2">Generated file</th></tr></thead><tbody class="table_body">
                <tr class="table_row_odd table_row_first table_row_last"><td class="width_max"><a href="#" id="sql_generator_show_model_link" target="_blank">none.sql</a></td><td><a class="button" href="#" id="sql_generator_download_model_button">Download</a></td>
                </tr></tbody>
                </table></div></div><div class="buttons"><a class="button_primary" id="sql_generator_form_button"><span>Generate</span></a>
                <a class="button_primary" id="sql_generator_form_despite_warnings_button"><span>Ignore warnings and generate</span></a>
                <a class="link" id="btn2523"><span>Cancel</span></a><script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2523","epoint.ow.Utils.buttonDefaultsHandler",null);},90,null);</script><script type="text/javascript">oneweb.DocumentReadyManager.addOnewebAction(function() {epoint.ow.Utils.bindEvent("click","btn2523","epoint.ow.popup.PopupManager.closePopupClickHandler","sql_generator_form_container",[]);},null,null);</script></div><p class="mandatory_info">Fields marked with [<span class="mandatory">*</span>] must be filled.</p>
                </div>
            </div>
            </div>
            </td><td class="item"><div id="search-box"></div><script type="text/template" id="search-template"><form name="search"><input class="text_field" name="query" placeholder="Search (Ctrl+F)" type="text"></form></script>
            </td></tr>
            </table> -->
        </div>
    </td>

</tr>
<tr>
    <td class="border_layout_west" id="left-panel" >
        <div class="border_layout_west">
            <div class="accordion" >
                <div class="block" >
                    <div class="header">
                        <h2>Study Structure</h2>
                    </div>
                    <div class="content" style="height:800px;">
                        <div id="handy-menu1"></div>
                        <script type="text/template" id="handy-menu-find-in-area-template">
                            <button class="handy-menu-find-in-area-button" type="button">Find in {{area}}</button>
                        </script>
                        <div class="tree">
                            <div class="tree_title">@studyName Study [<a href="/showStudy/@studyNo"> Portrait View</a>]</div>
                            <ul>
                                <li>
                                    <div id="table-list-root-node"><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">Subjects</span><span class="context-menu-trigger" data-label="table" data-what="tables"></span></div>
                                    <ul id="table-list">
                                        <p hidden id = "studyNo" value = "123" subject ="S001">@studyNo</p>
                                        @for((subject,sessions) <- sub_sess_menu){
                                        <!-- <li><input type="checkbox" id="item-0-2" />@subject<label for="item-0"></label> -->
                                        <li> <div ><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label"><a href="/displaySubject?studyNo=@studyNo&SubjectId=@subject">@subject </a></span><span class="context-menu-trigger" data-label="table" data-what="tables"></span></div>
                                            <ul>
                                                @for(session <- sessions){
                                                <!-- <li><input type="checkbox" id="item-0-0-23" /><label for="item-0">@session</label> <ul id="@subject@session"> <li class="inner" subject=@subject session=@session><a >Run 1</a></li> </ul></li> -->

                                                <li><div ><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label"><a href="/displaySubject?studyNo=@studyNo&SubjectId=@subject#@session">@session </a></span><span class="context-menu-trigger" data-label="table" data-what="tables"></span></div>
                                                    <!-- <ul id="@subject@session">
                                                         <li>
                                                             <div><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span>
                                                                 <div class="inner" subject=@subject session=@session > <span class="label">Run 1</span> </div>

                                                                 <span class="context-menu-trigger" data-label="table" data-what="tables"></span>
                                                             </div>
                                                         </li>
                                                     </ul> -->
                                                </li>

                                                <!-- <li> <div ><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">@subject</span><span class="context-menu-trigger" data-label="table" data-what="tables"></span></div> -->
                                                }

                                            </ul>
                                        </li>
                                        }
                                        <!-- </ul> -->
                                        <!-- </li> -->
                                    </ul>
                                </li>
                                <!--<li>
                                    <div id="reference-list-root-node"><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">References</span><span class="context-menu-trigger" data-label="reference" data-what="references"></span></div><ul id="reference-list"></ul>
                                </li>
                                <li>
                                    <div id="sequence-list-root-node"><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">Sequences</span><span class="context-menu-trigger" data-label="sequence" data-what="sequences"></span></div><ul id="sequence-list"></ul>
                                </li>
                                <li><div id="note-list-root-node"><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">Text notes</span><span class="context-menu-trigger" data-label="note" data-what="notes"></span></div><ul id="note-list"></ul>
                                </li>
                                <li><div id="view-list-root-node"><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">Views</span><span class="context-menu-trigger" data-label="view" data-what="views"></span></div><ul id="view-list"></ul>
                                </li>
                                <li><div id="area-list-root-node"><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">Subject areas</span><span class="context-menu-trigger" data-label="area" data-what="areas"></span></div>
                                    <ul id="area-list">
                                        <li>
                                            <div id="area-list-root-node"><span class="control"></span><span class="icon"><span class="icon_overlay"></span></span><span class="label">Subject areas</span><span class="context-menu-trigger" data-label="area" data-what="areas"></span></div>
                                        </li>
                                    </ul>

                                </li> -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </td>


    <td class="border_layout_center">
        <div class="border_layout_center" >
            <div id="diagram_container" >
                    <div class="tabs">


                        @import java.math.BigInteger; var i=1;
                        @for((subject,sessions) <- sub_sess){
                        <ul class="tab-links">
                            @for(session <- sessions){
                            @if(i == 1) {
                            <li class="active"><a  href="#@session" id="link@session" class="onesignal" subject="@subject" session="@session" studyId=@studyNo  occupied ="no">@session</a></li>
                            } else {
                            <li><a  href="#@session" id="link@session" class="onesignal" subject="@subject" session="@session" studyId=@studyNo  occupied ="no">@session</a></li>
                            }
                                @{i = i + 1;}
                            }
                        </ul>
                        }

                        <div class="tab-content" style="overflow:scroll; height:800px;">
                            @for((subject,sessions) <- sub_sess){
                                @for(session <- sessions){

                                <div id="@session" class="tab">
                                    <fieldset>
                                    <h2>Subject: @SubjectId </h2>
                                    <br>
                                  <div id="bio@session">
                                    <table cellspacing="0" class="form_table">
                                        <tr> <h2>Biography </h2></tr>
                                        <tr class="row_1">
                                            <td class="cell_2"><h4 id = "first@session"> </h4> </td>
                                            <td class="cell_2"><h4 id = "second@session"> </h4> </td>
                                            <td class="cell_2"><h4 id = "third@session"> </h4> </td>
                                        </tr>
                                        <tr class="row_1">
                                            <td class="cell_2"><h4 id = "fourth@session"> </h4> </td>
                                            <td class="cell_2"><h4 id = "fifth@session"> </h4> </td>
                                            <td class="cell_2"><h4 id = "sixth@session"> </h4> </td>
                                        </tr>
                                    </table>
                                  </div>
                                    <div id="sycho@session">
                                        <table cellspacing="0" class="form_table">
                                            <tr> <h2>PSYCHOMETRICS </h2></tr>
                                            <tr class="row_1">
                                                <td class="cell_2"><h4 id = "firstsycho@session"> </h4> </td>
                                                <td class="cell_2"><h4 id = "secondsycho@session"> </h4> </td>
                                                <td class="cell_2"><h4 id = "thirdsycho@session"> </h4> </td>
                                            </tr>
                                            <tr class="row_1">
                                                <td class="cell_2"><h4 id = "fourthsycho@session"> </h4> </td>
                                                <td class="cell_2"><h4 id = "fifthsycho@session"> </h4> </td>
                                                <td class="cell_2"><h4 id = "sixthsycho@session"> </h4> </td>
                                            </tr>
                                        </table>
                                    </div>
                                    <br><br>

                                    <div>

                                        @for(signal <- signals){
                                        @if(signal < 8) {
                                        <div id="Combo" style="border-style: solid;  border-radius: 15px; border-color: #636363;">

                                                <div  id="dashboard_div@session@signal">
                                                    <div id="chart@session@signal" class="chart" style="width: 915px; height: 200px;" subject="@subject" session="@session" signal="@signal">
                                                    </div>
                                                    <div id="filter_div@session@signal" style="width: 915px; height: 50px;"></div>
                                                </div>
                                                <br>
                                                <!-- &nbsp; &nbsp; &nbsp; &nbsp;  <a id = "dynamic@session@signal">Dynamic</a><button id = "showvideo@session@signal">Show Videos</button><button id = "editchart@session@signal">Edit Chart</button>  <br> -->
                                                &nbsp; &nbsp; &nbsp; &nbsp;  <a id = "dynamic@session@signal">Dynamic</a><a id = "showvideo@session@signal">Show Videos</a><a id = "editchart@session@signal">Edit Chart</a>  <br>
                                            <br>
                                                <div id="videoboard@session@signal" name="videoboard@session@signal" style="position:relative; left: 40px; width: 915px; height: 300px; overflow-x:scroll; white-space: nowrap;" hidden>
                                                    <!-- <video id= "video@session" width="350px" controls preload="auto" muted> Your browser does not support HTML5 video.
                                                    </video>
                                                    <video id= "video1@session" width="350px" controls preload="auto" muted> Your browser does not support HTML5 video.
                                                    </video> -->
                                                    @{import java.math.BigInteger; var i=1};
                                                    @for((sess,videoList) <- videos){
                                                    @if(sess == session) {
                                                    @for(video <- videoList){
                                                    @if(study_type == 1) {
                                                    <object id="@video">
                                                        <param name='movie' value='https://video.google.com/get_player?docid=0B2TDTGk9sqZLQjlxcVRxYUNqOFE&amp;ps=docs&amp;partnerid=30&amp;cc_load_policy=1'></param>
                                                        <param name='allowFullScreen' value='true'></param>
                                                        <param name='allowScriptAccess' value='always'></param>
                                                        <embed id='video@video@signal' src='https://video.google.com/get_player?docid=@video&amp;ps=docs&amp;partnerid=30&amp;cc_load_policy=1&amp;color=white&amp;autoplay=0&amp;enablejsapi=1&amp;playerapiid=video@video@signal' type='application/x-shockwave-flash' allowfullscreen='true' allowScriptAccess='always' width='350' height='250'></embed>
                                                    </object>
                                                    } else {
                                                    <object width='400' height='250' id="@video">
                                                        <embed src='@video' type='video/x-ms-wm' allowfullscreen='true' play ='false' autostart="false"  allowScriptAccess='always' width='350' height='250'></embed></object>
                                                    }
                                                    @{i = i + 1;}
                                                    }
                                                    }
                                                    }
                                                    <br>
                                                    <a id = "stopvideo@session@signal">Stop Videos</a>
                                                </div>
                                           <!-- <div id="fooObject">
                                                <p> p</p>
                                            </div> -->
                                        </div>
                                        <br><br><br> <br><br><br>
                                               }
                                            }


                                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                                    </div>
                                    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
                                        </fieldset>
                                </div>
                               }
                            }

                        </div>
                    </div>


            </div>
        </div>
    </td>


</tr>

</table>

</div>
</body>
</html>